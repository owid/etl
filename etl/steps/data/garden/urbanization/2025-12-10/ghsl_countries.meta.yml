# NOTE: To learn more about the fields, hover over their names.
definitions:
  common:
    presentation:
      topic_tags:
        - Urbanization
    processing_level: major

  # --- Reusable text blocks (plain language) ---
  text_degurba_overview: &text_degurba_overview |-
    The [Degree of Urbanisation](https://human-settlement.emergency.copernicus.eu/degurba.php) classifies areas as [cities](#dod:cities-degurba), [towns and suburbs](#dod:towns-degurba), or [rural areas](#dod:rural-areas-degurba) based on population density and settlement size rather than administrative boundaries. Developed by six international organizations and endorsed by the UN Statistical Commission in 2020, it provides consistent definitions for comparing urbanization across countries.

  text_data_source: &text_data_source |-
    The classification uses 1 km² grid cells, combining satellite imagery with census data to map where people actually live.

  text_degurba_caveat: &text_degurba_caveat |-
    Urban and rural areas are defined differently across countries, using legal status, administrative boundaries, or population criteria. The [Degree of Urbanisation](https://human-settlement.emergency.copernicus.eu/degurba.php) applies a single global standard using population density grids, meaning its classifications won’t always match official city boundaries and therefore urbanisation rates may differ from country-reported figures.

  text_small_territory_caveat: &text_small_territory_caveat |-
    For small countries, values can change sharply when an entire area shifts from one classification to another.

# Learn more about the available fields:
# http://docs.owid.io/projects/etl/architecture/metadata/reference/
dataset:
  update_period_days: 365


tables:
  ghsl_countries:
    variables:
      value:
          description_short: |-
            <% if data_type == 'estimates' %>Estimated<% else %>Projected<% endif %> <% if metric == 'population' %>number of people living<% elif metric == 'area' %>land area<% elif metric == 'built_up_area' %>area covered by buildings<% elif metric == 'share' %>share of land<% elif metric == 'popshare' %>share of population living<% elif metric == 'density' %>number of people per square kilometre<% elif metric == 'popshare_change' %>change in the share of population living<% endif %> <% if location_type == 'urban_centre' %>in [cities](#dod:cities-degurba)<% elif location_type == 'urban_cluster' %>in [towns and suburbs](#dod:towns-degurba)<% elif location_type == 'rural_total' %>in [rural areas](#dod:rural-areas-degurba)<% elif location_type == 'urban_total' %>in urban areas<% endif %>. <% if location_type == 'urban_centre' %>Cities are<% elif location_type == 'urban_cluster' %>Towns and suburbs are<% elif location_type == 'rural_total' %>Rural areas are<% elif location_type == 'urban_total' %>Urban areas are<% endif %> identified using satellite imagery and population data, applying the same density and size thresholds across all countries.

          description_key:
            - *text_degurba_overview

            - |-
              <% if location_type == 'urban_centre' %>
              Cities are defined as densely populated areas with a minimum density of 1,500 people per square kilometre and at least 50,000 people in total.
              <% elif location_type == 'urban_cluster' %>
              Towns and suburbs are settlements outside cities where people live at moderate density. They have at least 300 people per square kilometre and at least 5,000 people in total. This includes smaller towns, suburban areas, and peri-urban areas around cities.
              <% elif location_type == 'rural_total' %>
              Rural areas are places with less than 300 people per km² or a total population of less than 5,000.
              <% elif location_type == 'urban_total' %>
              Urban areas include both cities (at least 1,500 people per km², 50,000 total) and towns and suburbs (at least 300 people per km², 5,000 total).
              <% endif %>

            - *text_data_source

            - |-
              <% if data_type == 'estimates' %>
              Historical estimates (1975–2020) combine census data with satellite imagery of built-up areas from the Global Human Settlement Layer.
              <% else %>
              Projections (2025–2100) use the [CRISP (Cities and Rural Integrated Spatial Projections) spatial model](https://www.researchgate.net/publication/384062691_Calibration_of_the_CRISP_model_A_global_assessment_of_local_built-up_area_presence), which extends past settlement patterns while aligning with UN World Population Prospects totals. Uncertainty increases further into the future.
              <% endif %>

            - *text_degurba_caveat

            - *text_small_territory_caveat

          title: |-
            <% if location_type == "rural_total" and metric == 'area' and data_type == 'estimates' %>
            Land covered by rural areas
            <% elif location_type == "rural_total" and metric == 'population' and data_type == 'estimates' %>
            Population living in rural areas
            <% elif location_type == "rural_total" and metric == 'share' and data_type == 'estimates' %>
            Share of land covered by rural areas
            <% elif location_type == "rural_total" and metric == 'popshare' and data_type == 'estimates' %>
            Share of population living in rural areas
            <% elif location_type == "rural_total" and metric == 'built_up_area' and data_type == 'estimates' %>
            Built-up area in rural areas

            <% elif location_type == "urban_centre" and metric == 'area' and data_type == 'estimates' %>
            Land covered by cities
            <% elif location_type == "urban_centre" and metric == 'population' and data_type == 'estimates' %>
            Population living in cities
            <% elif location_type == "urban_centre" and metric == 'share' and data_type == 'estimates' %>
            Share of land covered by cities
            <% elif location_type == "urban_centre" and metric == 'popshare' and data_type == 'estimates' %>
            Share of population living in cities
            <% elif location_type == "urban_centre" and metric == 'built_up_area' and data_type == 'estimates' %>
            Built-up area in cities

            <% elif location_type == "urban_cluster" and metric == 'area' and data_type == 'estimates' %>
            Land covered by towns
            <% elif location_type == "urban_cluster" and metric == 'population' and data_type == 'estimates' %>
            Population living in towns
            <% elif location_type == "urban_cluster" and metric == 'share' and data_type == 'estimates' %>
            Share of land covered by towns
            <% elif location_type == "urban_cluster" and metric == 'popshare' and data_type == 'estimates' %>
            Share of population living in towns
            <% elif location_type == "urban_cluster" and metric == 'built_up_area' and data_type == 'estimates' %>
            Built-up area in towns

            <% elif location_type == "urban_total" and metric == 'area' and data_type == 'estimates' %>
            Land covered by urban areas
            <% elif location_type == "urban_total" and metric == 'population' and data_type == 'estimates' %>
            Population living in urban areas
            <% elif location_type == "urban_total" and metric == 'share' and data_type == 'estimates' %>
            Share of land covered by urban areas
            <% elif location_type == "urban_total" and metric == 'popshare' and data_type == 'estimates' %>
            Share of population living in urban areas
            <% elif location_type == "urban_total" and metric == 'built_up_area' and data_type == 'estimates' %>
            Built-up area in urban areas

            <% elif location_type == "rural_total" and metric == 'area' and data_type == 'projections' %>
            Projected land covered by rural areas
            <% elif location_type == "rural_total" and metric == 'population' and data_type == 'projections' %>
            Projected population living in rural areas
            <% elif location_type == "rural_total" and metric == 'share' and data_type == 'projections' %>
            Projected share of land covered by rural areas
            <% elif location_type == "rural_total" and metric == 'popshare' and data_type == 'projections' %>
            Projected share of population living in rural areas
            <% elif location_type == "rural_total" and metric == 'built_up_area' and data_type == 'projections' %>
            Projected built-up area in rural areas

            <% elif location_type == "urban_centre" and metric == 'area' and data_type == 'projections' %>
            Projected land covered by cities
            <% elif location_type == "urban_centre" and metric == 'population' and data_type == 'projections' %>
            Projected population living in cities
            <% elif location_type == "urban_centre" and metric == 'share' and data_type == 'projections' %>
            Projected share of land covered by cities
            <% elif location_type == "urban_centre" and metric == 'popshare' and data_type == 'projections' %>
            Projected share of population living in cities
            <% elif location_type == "urban_centre" and metric == 'built_up_area' and data_type == 'projections' %>
            Projected built-up area in cities

            <% elif location_type == "urban_cluster" and metric == 'area' and data_type == 'projections' %>
            Projected land covered by towns
            <% elif location_type == "urban_cluster" and metric == 'population' and data_type == 'projections' %>
            Projected population living in towns
            <% elif location_type == "urban_cluster" and metric == 'share' and data_type == 'projections' %>
            Projected share of land covered by towns
            <% elif location_type == "urban_cluster" and metric == 'popshare' and data_type == 'projections' %>
            Projected share of population living in towns
            <% elif location_type == "urban_cluster" and metric == 'built_up_area' and data_type == 'projections' %>
            Projected built-up area in towns

            <% elif location_type == "urban_total" and metric == 'area' and data_type == 'projections' %>
            Projected land covered by urban areas
            <% elif location_type == "urban_total" and metric == 'population' and data_type == 'projections' %>
            Projected population living in urban areas
            <% elif location_type == "urban_total" and metric == 'share' and data_type == 'projections' %>
            Projected share of land covered by urban areas
            <% elif location_type == "urban_total" and metric == 'popshare' and data_type == 'projections' %>
            Projected share of population living in urban areas
            <% elif location_type == "urban_total" and metric == 'built_up_area' and data_type == 'projections' %>
            Projected built-up area in urban areas

            <% elif location_type == "urban_centre" and metric == 'density' and data_type == 'estimates' %>
            Population density in cities
            <% elif location_type == "urban_centre" and metric == 'density' and data_type == 'projections' %>
            Projected population density in cities

            <% elif location_type == "urban_cluster" and metric == 'density' and data_type == 'estimates' %>
            Population density in towns
            <% elif location_type == "urban_cluster" and metric == 'density' and data_type == 'projections' %>
            Projected population density in towns

            <% elif location_type == "rural_total" and metric == 'density' and data_type == 'estimates' %>
            Population density in rural areas
            <% elif location_type == "rural_total" and metric == 'density' and data_type == 'projections' %>
            Projected population density in rural areas

            <% elif location_type == "urban_total" and metric == 'density' and data_type == 'estimates' %>
            Population density in urban areas
            <% elif location_type == "urban_total" and metric == 'density' and data_type == 'projections' %>
            Projected population density in urban areas

            <% elif location_type == "urban_centre" and metric == 'popshare_change' and data_type == 'estimates' %>
            Change in population share in cities
            <% elif location_type == "urban_centre" and metric == 'popshare_change' and data_type == 'projections' %>
            Projected change in population share in cities

            <% elif location_type == "urban_cluster" and metric == 'popshare_change' and data_type == 'estimates' %>
            Change in population share in towns
            <% elif location_type == "urban_cluster" and metric == 'popshare_change' and data_type == 'projections' %>
            Projected change in population share in towns

            <% elif location_type == "rural_total" and metric == 'popshare_change' and data_type == 'estimates' %>
            Change in population share in rural areas
            <% elif location_type == "rural_total" and metric == 'popshare_change' and data_type == 'projections' %>
            Projected change in population share in rural areas

            <% elif location_type == "urban_total" and metric == 'popshare_change' and data_type == 'estimates' %>
            Change in population share in urban areas
            <% elif location_type == "urban_total" and metric == 'popshare_change' and data_type == 'projections' %>
            Projected change in population share in urban areas

            <% endif %>
          unit:
            <% if metric == 'area' or metric == 'built_up_area' %>
            km²
            <% elif metric == 'population' %>
            people
            <% elif metric == 'share' or metric == 'popshare' %>
            %
            <% elif metric == 'density' %>
            people per km²
            <% elif metric == 'popshare_change' %>
            percentage points
            <%- endif -%>

          short_unit:
            <% if metric == 'area' or metric == 'built_up_area' %>
            km²
            <% elif metric == 'share' or metric == 'popshare' %>
            %
            <% elif metric == 'density' %>
            per km²
            <% elif metric == 'popshare_change' %>
            pp
            <%- endif -%>
          description_processing: |-
            <% if metric == 'share' or metric == 'popshare' %>
            Shares were calculated by dividing the area or population of each settlement type by the total, then multiplying by 100.
            <% elif metric == 'density' %>
            Population density was calculated by dividing the population by the total area of that settlement type.
            <% elif metric == 'popshare_change' %>
            Change in population share was calculated as the difference between consecutive 5-year periods, measured in percentage points.
            <%- endif -%>
          presentation:
            grapher_config:
              map:
                colorScale:
                  baseColorScheme: |
                    <% if metric == 'popshare_change' %>
                    RdYlBu
                    <% elif location_type == 'urban_centre' %>
                    Blues
                    <% elif location_type == 'urban_cluster' %>
                    Purples
                    <% elif location_type == 'rural_total' %>
                    Greens
                    <% elif location_type == 'urban_total' %>
                    Oranges
                    <% endif %>

          display:
            isProjection: <% if data_type == 'projections' %>true<% else %>false<% endif %>
            numDecimalPlaces:
                <% if metric == 'area' or metric == 'built_up_area' %>
                0
                <% elif metric == 'population' %>
                0
                <% elif metric == 'share' or metric == 'popshare' %>
                1
                <% elif metric == 'density' %>
                0
                <% elif metric == 'popshare_change' %>
                2
                <%- endif -%>

  ghsl_countries_dominant_type:
    variables:
      value:
        title: |-
          <% if data_type == 'estimates' %>
          Dominant population concentration type
          <% elif data_type == 'projections' %>
          Dominant population concentration type (projected)
          <%- endif -%>
        unit: ""
        description_short: |-
          Shows whether most people live in cities, towns and suburbs, or rural areas. Settlement types are identified using satellite imagery and population data, applying the same density and size thresholds across all countries.

        description_key:
          - This shows which settlement type contains the largest share of a country's population.

          - *text_degurba_overview

          - |-
            Cities are defined as densely populated areas with a minimum density of 1,500 people per square kilometre and at least 50,000 people in total. Towns and suburbs are settlements outside cities where people live at moderate density. They have at least 300 people per square kilometre and at least 5,000 people in total. Rural areas are everything else.

          - *text_data_source

          - |-
            <% if data_type == 'estimates' %>
            Historical estimates (1975–2020) combine census data with satellite imagery of built-up areas from the Global Human Settlement Layer.
            <% else %>
            Projections (2025–2100) use the CRISP spatial model, which extends past settlement patterns while aligning with UN World Population Prospects totals. Uncertainty increases further into the future.
            <% endif %>

          - *text_degurba_caveat

          - *text_small_territory_caveat

        display:
          isProjection: <% if data_type == 'projections' %>true<% else %>false<% endif %>

        presentation:
          grapher_config:
            map:
              colorScale:
                baseColorScheme: OwidCategoricalC
