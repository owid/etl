# NOTE: To learn more about the fields, hover over their names.
definitions:
  selected_entities:
    with_americas: &sel_entities_americas
      - Africa
      - Americas
      - Asia
      - Europe
      - Oceania
      - World
    standard: &sel_entities
      - Africa
      - North America
      - Latin America and the Caribbean
      - Asia
      - Europe
      - Oceania
      - World
  title_base: Period life expectancy
  life_expectancy_0:
    description_short: |-
      The total number of years a newborn is expected to live.
  common:
    description_short: |-
      <% if (age === 0) %>
      {definitions.life_expectancy_0.description_short}
      <% else %>
      <% if (sex === 'female') %>
      The total number of years a person is expected to live, among people who have already reached << age >> years of age.
      <% elif (sex === 'male') %>
      The total number of years a person is expected to live, among people who have already reached << age >> years of age.
      <% elif (sex === 'all') %>
      The total number of years a person is expected to live, among people who have already reached << age >> years of age.
      <% endif %>
      <% endif %>
    description_key:
      - Period life expectancy assumes that current mortality trends will continue for the rest of a subject's life.
    presentation:
      topic_tags:
        - Life Expectancy

# Learn more about the available fields:
# http://docs.owid.io/projects/etl/architecture/metadata/reference/dataset/
dataset:
  title: Life Expectancy (period)
  update_period_days: 365


# Learn more about the available fields:
# http://docs.owid.io/projects/etl/architecture/metadata/reference/tables/
tables:

  # HISTORICAL VALUES (until today)
  life_expectancy:
    variables:

      life_expectancy:
        title: |-
          {definitions.title_base}
        unit: years
        short_unit: years
        processing_level: minor
        display:
          numDecimalPlaces: 1
        presentation:
          grapher_config:
            hasMapTab: true
            selectedEntityNames: *sel_entities

      life_expectancy_0:
        title: |-
          {definitions.title_base} at birth
        unit: years
        short_unit: years
        processing_level: minor
        display:
          numDecimalPlaces: 1
          name: Life expectancy at birth
        presentation:
          title_public: Life expectancy at birth
          title_variant: Historical data, period life expectancy
          grapher_config:
            title: Life expectancy at birth
            hasMapTab: true
            selectedEntityNames: *sel_entities_americas
          attribution: |-
            UN WPP (2022); HMD (2023); Zijdeman et al. (2015); Riley (2005)


  # WITH PROJECTIONS
  life_expectancy_with_proj:
    variables:

      life_expectancy_with_proj:
        title: |-
          {definitions.title_base} (with projections)
        unit: years
        short_unit: years
        processing_level: minor
        display:
          numDecimalPlaces: 1
        presentation:
          title_variant: With UN Projections
          grapher_config:
            hasMapTab: true
            selectedEntityNames: *sel_entities

      life_expectancy_0_with_proj:
        title: |-
          {definitions.title_base} at birth (with projections)
        unit: years
        short_unit: years
        processing_level: minor
        display:
          numDecimalPlaces: 1
          name: Life expectancy at birth
        presentation:
          title_public: Life expectancy at birth
          title_variant: With UN projections, period life expectancy
          grapher_config:
            title: Life expectancy at birth
            hasMapTab: true
            selectedEntityNames: *sel_entities_americas
          attribution: |-
            UN WPP (2022); HMD (2023); Zijdeman et al. (2015); Riley (2005)


  # ONLY PROJECTIONS
  life_expectancy_only_proj:
    variables:

      life_expectancy_only_proj:
        title: |-
          {definitions.title_base} (only projections)
        unit: years
        short_unit: years
        processing_level: minor
        display:
          numDecimalPlaces: 1
        presentation:
          title_variant: UN Projections
          grapher_config:
            hasMapTab: true
            selectedEntityNames: *sel_entities

      life_expectancy_0_only_proj:
        title: |-
          {definitions.title_base} at birth (only projections)
        unit: years
        short_unit: years
        processing_level: minor
        display:
          numDecimalPlaces: 1
          name: Life expectancy at birth
        presentation:
          title_public: Life expectancy at birth
          title_variant: UN Projections, period life expectancy
          grapher_config:
            title: Life expectancy at birth
            hasMapTab: true
            selectedEntityNames: *sel_entities_americas
