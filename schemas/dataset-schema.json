{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "$defs": {
    "axis": {
      "type": "object",
      "description": "Axis definition",
      "properties": {
        "removePointsOutsideDomain": {
          "type": "boolean",
          "description": "",
          "default": false
        },
        "label": {
          "type": "string",
          "description": "Axis label"
        },
        "min": {
          "type": "number",
          "description": "Minimum domain value of the axis"
        },
        "scaleType": {
          "type": "string",
          "description": "Toggle linear/logarithmic",
          "default": "linear",
          "enum": [
            "linear",
            "log"
          ]
        },
        "max": {
          "type": "number",
          "description": "Maximum domain value of the axis"
        },
        "canChangeScaleType": {
          "type": "boolean",
          "description": "Allow user to change lin/log",
          "default": false
        },
        "facetDomain": {
          "type": "string",
          "description": "Whether the axis domain should be the same across faceted charts (if possible)",
          "enum": [
            "independent",
            "shared"
          ]
        }
      },
      "additionalProperties": false
    },
    "colorScale": {
      "type": "object",
      "description": "Color scale definition",
      "properties": {
        "customNumericLabels": {
          "type": "array",
          "description": "Custom labels for each numeric bin. Only applied when strategy is `manual`.\n`null` falls back to default label.\n",
          "items": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "customCategoryColors": {
          "type": "object",
          "description": "Map of categorical values to colors. Colors are CSS colors, usually in the form `#aa9944`",
          "patternProperties": {
            ".*": {
              "type": "string"
            }
          }
        },
        "baseColorScheme": {
          "type": "string",
          "description": "One of the predefined base color schemes",
          "default": "default",
          "enum": [
            "YlGn",
            "YlGnBu",
            "GnBu",
            "BuGn",
            "PuBuGn",
            "BuPu",
            "RdPu",
            "PuRd",
            "OrRd",
            "YlOrRd",
            "YlOrBr",
            "Purples",
            "Blues",
            "Greens",
            "Oranges",
            "Reds",
            "Greys",
            "PuOr",
            "BrBG",
            "PRGn",
            "PiYG",
            "RdBu",
            "RdGy",
            "RdYlBu",
            "Spectral",
            "RdYlGn",
            "Accent",
            "Dark2",
            "Paired",
            "Pastel1",
            "Pastel2",
            "Set1",
            "Set2",
            "Set3",
            "PuBu",
            "hsv-RdBu",
            "hsv-CyMg",
            "Magma",
            "Inferno",
            "Plasma",
            "Viridis",
            "continents",
            "stackedAreaDefault",
            "owid-distinct",
            "default",
            "ContinentsLines",
            "SingleColorDenim",
            "SingleColorTeal",
            "SingleColorPurple",
            "SingleColorDustyCoral",
            "SingleColorDarkCopper",
            "OwidCategoricalA",
            "OwidCategoricalB",
            "OwidCategoricalC",
            "OwidCategoricalD",
            "OwidCategoricalE",
            "OwidEnergy",
            "OwidEnergyLines",
            "OwidDistinctLines",
            "BinaryMapPaletteA",
            "BinaryMapPaletteB",
            "BinaryMapPaletteC",
            "BinaryMapPaletteD",
            "BinaryMapPaletteE",
            "SingleColorGradientDenim",
            "SingleColorGradientTeal",
            "SingleColorGradientPurple",
            "SingleColorGradientDustyCoral",
            "SingleColorGradientDarkCopper"
          ]
        },
        "equalSizeBins": {
          "type": "boolean",
          "default": true,
          "description": "Whether the visual scaling for the color legend is disabled."
        },
        "customHiddenCategories": {
          "type": "object",
          "description": "Allow hiding categories from the legend",
          "patternProperties": {
            ".*": {
              "type": "boolean"
            }
          }
        },
        "binningStrategy": {
          "type": "string",
          "description": "The strategy for generating the bin boundaries",
          "default": "ckmeans",
          "enum": [
            "equalInterval",
            "quantiles",
            "ckmeans",
            "manual"
          ]
        },
        "legendDescription": {
          "type": "string",
          "description": "A custom legend description. Only used in ScatterPlot legend titles for now."
        },
        "customNumericColors": {
          "type": "array",
          "description": "Override some or all colors for the numerical color legend.\nColors are CSS colors, usually in the form `#aa9944`\n`null` falls back the color scheme color.\n",
          "items": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "customNumericValues": {
          "type": "array",
          "description": "Custom maximum brackets for each numeric bin. Only applied when strategy is `manual`",
          "items": {
            "type": "number"
          }
        },
        "customNumericColorsActive": {
          "type": "boolean",
          "default": false,
          "description": "Whether `customNumericColors` are used to override the color scheme"
        },
        "colorSchemeInvert": {
          "type": "boolean",
          "default": false,
          "description": "Reverse the order of colors in the color scheme"
        },
        "customCategoryLabels": {
          "type": "object",
          "description": "Map of category values to color legend labels.",
          "patternProperties": {
            ".*": {
              "type": "string"
            }
          }
        },
        "binningStrategyBinCount": {
          "type": "integer",
          "default": 5,
          "description": "The *suggested* number of bins for the automatic binning algorithm",
          "minimum": 0
        },
        "customNumericMinValue": {
          "type": "number",
          "description": "The minimum bracket of the first bin"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false,
  "properties": {
    "definitions": {
      "type": "object",
      "description": "Definitions with anchors that are reused in other parts of the metadata",
      "additionalProperties": true,
      "properties": {
        "common": {
          "description": "Metadata that will be merged with all indicators. Does not overwrite existing metadata.",
          "$ref": "#/properties/tables/additionalProperties/properties/variables/additionalProperties"
        }
      }
    },
    "dataset": {
      "type": "object",
      "description": "An ETL dataset is a collection of tables. The dataset metadata fields are the attributes of the `DatasetMeta` object in ETL.",
      "additionalProperties": false,
      "properties": {
        "title": {
          "type": "string",
          "title": "Title of the ETL dataset",
          "description": "Title of the dataset (mostly for internal purposes, or for users of our data catalog) which is a one-line description of the dataset.",
          "requirement_level": "required (often automatic)",
          "guidelines": [
            [
              "Must start with a capital letter."
            ],
            [
              "Must not end with a period."
            ],
            [
              "Should identify the dataset (i.e. the collection of tables resulting from one or more original data products)."
            ],
            [
              "Should be used only to override the automatic title (which usually is the title of the containing table). For example, use it when the dataset contains multiple tables."
            ]
          ]
        },
        "description": {
          "type": "string",
          "title": "Description of the ETL dataset",
          "description": "Description of the dataset (mostly for internal purposes, or for users of our data catalog) which is a one- (or a few) paragraph description of the content of the tables.",
          "requirement_level": "recommended (often automatic)",
          "guidelines": [
            [
              "Must start with a capital letter."
            ],
            [
              "Must end with a period."
            ],
            [
              "Should not mention other metadata fields (e.g. `producer` or `date_published`).",
              {
                "type": "exceptions",
                "value": [
                  "The other metadata fields are crucial in the description of the data product."
                ]
              }
            ],
            [
              "Should describe the dataset (i.e. the collection of tables resulting from one or more original data products)."
            ],
            [
              "Should ideally contain just one or a few paragraphs, that describe its content succinctly."
            ],
            [
              "Should be used only to override the automatic description (which usually is the description of the containing table). For example, use it when the dataset contains multiple tables."
            ]
          ]
        },
        "update_period_days": {
          "type": "integer",
          "title": "Number of days between OWID updates",
          "description": "Expected number of days between consecutive updates of this dataset by OWID, typically `30`, `90` or `365`. Set to `0` if we do not have the intention to update it.",
          "guidelines": [
            [
              "Must be defined in the garden step."
            ],
            [
              "Must be an integer."
            ],
            [
              "Must specify the update period of OWID's data, not the producer's data (although they may often coincide, e.g. `365`)."
            ]
          ],
          "examples": [
            "7",
            "30",
            "90",
            "365"
          ],
          "examples_bad": [
            [
              "2023-01-07"
            ],
            [
              "monthly"
            ],
            [
              "0.2"
            ],
            [
              "1/365"
            ]
          ],
          "requirement_level": "required"
        },
        "non_redistributable": {
          "type": "boolean",
          "title": "Non-redistribution of dataset ",
          "description": "Whether the dataset is non-redistributable, and therefore data should not be downloadable from the chart."
        },
        "licenses": {
          "type": "array",
          "description": "List of all licenses that have been involved in the processing history of the indicators in this dataset.",
          "guidelines": [
            "**Note:** Licenses should be propagated automatically from snapshots. Therefore, this field should only be manually filled out if automatic propagation fails. In the near future, this field may not even exist, since `licenses` should only exist inside `origins`."
          ],
          "items": {
            "$ref": "definitions.json#/license"
          }
        },
        "sources": {
          "type": "array",
          "description": "(DEPRECATED, no longer in use). List of all sources of the indicators in this dataset.",
          "items": {
            "$ref": "definitions.json#/source"
          }
        }
      }
    },
    "tables": {
      "type": "object",
      "description": "A table is a collection of indicators that share the same index. The table metadata fields are the attributes of the `TableMeta` object in ETL.",
      "propertyNames": {
        "pattern": "^[a-z0-9_]*$"
      },
      "additionalProperties": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "common": {
            "description": "Metadata that will be merged with all indicators. Does not overwrite existing metadata.",
            "$ref": "#/properties/tables/additionalProperties/properties/variables/additionalProperties"
          },
          "title": {
            "type": "string",
            "title": "Title of the ETL table",
            "description": "Title of the table (mostly for internal purposes, or for users of our data catalog) which is a few words description of the table.",
            "requirement_level": "required (often automatic)",
            "guidelines": [
              [
                "Must start with a capital letter."
              ],
              [
                "Must not end with a period."
              ],
              [
                "Should identify the table."
              ],
              [
                "Should be used only to override the automatic title (which usually is the title of the origin). For example, use it when the table has multiple origins."
              ]
            ]
          },
          "description": {
            "type": "string",
            "title": "Description of this ETL table",
            "description": "Description of the table (mostly for internal purposes, or for users of our data catalog) which is a one- (or a few) paragraph description of the table.",
            "requirement_level": "recommended (often automatic)",
            "guidelines": [
              [
                "Must start with a capital letter."
              ],
              [
                "Must end with a period."
              ],
              [
                "Should not mention other metadata fields (e.g. `producer` or `date_published`).",
                {
                  "type": "exceptions",
                  "value": [
                    "The other metadata fields are crucial in the description of the data product."
                  ]
                }
              ],
              [
                "Should ideally contain just one or a few paragraphs, that describe its content succinctly."
              ],
              [
                "Should be used only to override the automatic description (which usually is the description of the origin). For example, use it when the table has multiple origins."
              ]
            ]
          },
          "variables": {
            "type": "object",
            "description": "An indicator (also commonly called 'variable') is a collection of data points (usually a time series) with metadata. The indicator metadata fields are the attributes of the `VariableMeta` object in ETL.",
            "propertyNames": {
              "pattern": "^[a-z0-9_]*$"
            },
            "additionalProperties": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "title": {
                  "title": "Indicator's title",
                  "type": "string",
                  "description": "Title of the indicator, which is a few words definition of the indicator.",
                  "examples": [
                    "Number of neutron star mergers in the Milky Way",
                    "Share of neutron star mergers that happen in the Milky Way",
                    "Barley | 00000044 || Area harvested | 005312 || hectares"
                  ],
                  "examples_bad": [
                    [
                      "Number of neutron stars (NASA)"
                    ],
                    [
                      "Share of neutron star mergers that happen in the Milky Way (2023)"
                    ],
                    [
                      "Barley"
                    ]
                  ],
                  "requirement_level": "required",
                  "guidelines": [
                    [
                      "Must start with a capital letter."
                    ],
                    [
                      "Must not end with a period."
                    ],
                    [
                      "Must be one short sentence (a few words)."
                    ],
                    [
                      "For 'small datasets', this should be the publicly displayed title. For 'big datasets' (like FAOSTAT, with many dimensions), it can be less human-readable, optimized for internal searches (then, use `presentation.title_public` for the public title)."
                    ],
                    [
                      "Should not mention other metadata fields like `producer` or `version`."
                    ]
                  ],
                  "category": "metadata"
                },
                "description_short": {
                  "title": "Indicator's short description",
                  "type": "string",
                  "description": "One or a few lines that complement the title to have a short description of the indicator.",
                  "requirement_level": "required",
                  "guidelines": [
                    [
                      "Must start with a capital letter."
                    ],
                    [
                      "Must end with a period."
                    ],
                    [
                      "Must be one short paragraph (for example suitable to fit in a chart subtitle)."
                    ],
                    [
                      "Should not mention any other metadata fields (like information about the processing, or the origins, or the units).",
                      {
                        "type": "exceptions",
                        "value": [
                          "The unit can be mentioned if it is crucial for the description."
                        ]
                      }
                    ]
                  ],
                  "category": "metadata"
                },
                "description_key": {
                  "title": "Indicator's key information",
                  "oneOf": [
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    }
                  ],
                  "description": "List of key pieces of information about the indicator.",
                  "requirement_level": "recommended (for curated indicators)",
                  "guidelines": [
                    [
                      "Must be a list of one or more short paragraphs.",
                      {
                        "type": "list",
                        "value": [
                          "Each paragraph must start with a capital letter.",
                          "Each paragraph must end with a period."
                        ]
                      }
                    ],
                    [
                      "Must not contain `description_short` (although there might be some overlap of information)."
                    ],
                    [
                      "Should contain all the key information about the indicator (except that already given in `description_short`)."
                    ],
                    [
                      "Should include the key information given in other fields like `grapher_config.subtitle` (if different from `description_short`) and `grapher_config.note`."
                    ],
                    [
                      "Should not contain information about processing (which should be in `description_processing`)."
                    ],
                    [
                      "Should only contain information that is key to the public.",
                      {
                        "type": "list",
                        "value": [
                          "Anything that is too detailed or technical should be left in the code."
                        ]
                      }
                    ]
                  ],
                  "category": "metadata"
                },
                "description_processing": {
                  "title": "Indicator's processing description",
                  "type": "string",
                  "description": "Relevant information about the processing of the indicator done by OWID.",
                  "requirement_level": "required (if applicable)",
                  "guidelines": [
                    [
                      "Must start with a capital letter."
                    ],
                    [
                      "Must end with a period."
                    ],
                    [
                      "Must be used if important editorial decisions have been taken during data processing."
                    ],
                    [
                      "Must not be used to describe common processing steps like country harmonization."
                    ],
                    [
                      "Should only contain key processing information to the public.",
                      {
                        "type": "list",
                        "value": [
                          "Anything that is too detailed or technical should be left in the code."
                        ]
                      }
                    ]
                  ],
                  "category": "metadata"
                },
                "description_from_producer": {
                  "title": "Indicator's description given by the producer",
                  "type": "string",
                  "description": "Description of the indicator written by the producer, if any was given.",
                  "requirement_level": "recommended (if existing)",
                  "guidelines": [
                    [
                      "Must start with a capital letter."
                    ],
                    [
                      "Must end with a period."
                    ],
                    [
                      "Should be identical to the producer's text, except for some formatting changes, typo corrections, or other appropriate minor edits."
                    ],
                    [
                      "Should only be given if the producer clearly provides such definitions in a structured way. Avoid spending time searching for a definition given by the producer elsewhere."
                    ]
                  ],
                  "category": "metadata"
                },
                "unit": {
                  "title": "Indicator's unit",
                  "type": "string",
                  "description": "Very concise name of the unit we use to measure the indicator values.",
                  "examples": [
                    "tonnes per hectare",
                    "kilowatts per person"
                  ],
                  "examples_bad": [
                    [
                      "tonnes/hectare"
                    ],
                    [
                      "kilowatts per capita"
                    ]
                  ],
                  "requirement_level": "required",
                  "guidelines": [
                    [
                      "Must not start with a capital letter."
                    ],
                    [
                      "Must not end with a period."
                    ],
                    [
                      "Must be empty if the indicator has no units."
                    ],
                    [
                      "Must be in plural."
                    ],
                    [
                      "Must be a metric unit when applicable."
                    ],
                    [
                      "Should not use symbols like “/”.",
                      {
                        "type": "list",
                        "value": [
                          "If it is a derived unit, use 'per' to denote a division, e.g. '... per hectare', or '... per person'."
                        ]
                      }
                    ],
                    [
                      "Should be '%' for percentages."
                    ]
                  ],
                  "category": "metadata"
                },
                "short_unit": {
                  "title": "Indicator's unit (short version)",
                  "type": "string",
                  "description": "Characters that represent the unit we use to measure the indicator value.",
                  "examples": [
                    "t/ha",
                    "%",
                    "kWh/person"
                  ],
                  "examples_bad": [
                    [
                      "t / ha"
                    ],
                    [
                      "pct"
                    ],
                    [
                      "pc"
                    ]
                  ],
                  "requirement_level": "required",
                  "guidelines": [
                    [
                      "Must follow the rules of capitalization of the International System of Units, when applicable."
                    ],
                    [
                      "Must not end with a period."
                    ],
                    [
                      "Must be empty if the indicator has no units."
                    ],
                    [
                      "Should not contain spaces."
                    ],
                    [
                      "If, for clarity, we prefer to simplify the units in a chart, e.g. to show `kWh` instead of `kWh/person`, use `display.short_unit` for the simplified units, and keep the correct one in `indicator.short_unit` (and ensure there is no ambiguity in the chart)."
                    ]
                  ],
                  "category": "metadata"
                },
                "processing_level": {
                  "title": "Indicator's processing level",
                  "type": "string",
                  "enum": [
                    "minor",
                    "major"
                  ],
                  "description": "Level of processing that the indicator values have experienced.",
                  "requirement_level": "required (in the future this could be automatic).",
                  "guidelines": [
                    [
                      "Must be `minor` if the indicator has undergone only minor operations since its origin:",
                      {
                        "type": "list",
                        "value": [
                          "Rename entities (e.g. countries or columns)",
                          "Multiplication by a constant (e.g. unit change)",
                          "Drop missing values."
                        ]
                      }
                    ],
                    [
                      "Must be `major` if any other operation is used:",
                      {
                        "type": "list",
                        "value": [
                          "Data aggregates (e.g. sum data for continents or income groups)",
                          "Operations between indicators (e.g. per capita, percentages, annual changes)",
                          "Concatenation of indicators, etc."
                        ]
                      }
                    ]
                  ],
                  "category": "metadata"
                },
                "license": {
                  "title": "Indicator's final license",
                  "type": "string",
                  "description": "License of the indicator, which depends on the indicator's processing level and the origins' licenses.",
                  "requirement_level": "required (in the future this could be automatic)",
                  "guidelines": [
                    [
                      "If the indicator's `processing_level` is major, assign `CC BY 4.0`."
                    ],
                    [
                      "If the indicator's `processing_level` is minor, choose the most strict license among the origins' `licenses`."
                    ]
                  ],
                  "category": "metadata"
                },
                "sources": {
                  "type": "array",
                  "description": "List of all sources of the indicator. Automatically filled. NOTE: This is no longer in use, you should use origins.",
                  "items": {
                    "$ref": "definitions.json#/source"
                  }
                },
                "origins": {
                  "type": "array",
                  "description": "List of all origins of the indicator.",
                  "guidelines": [
                    "**Note:** Origins should be propagated automatically from snapshots. Therefore, this field should only be manually filled out if automatic propagation fails."
                  ],
                  "items": {
                    "$ref": "definitions.json#/origin"
                  }
                },
                "display": {
                  "$ref": "definitions.json#/display"
                },
                "presentation_license": {
                  "type": "object",
                  "description": "License to display for the indicator, overriding `license`.",
                  "additionalProperties": false,
                  "properties": {
                    "url": {
                      "description": "",
                      "type": "string"
                    },
                    "name": {
                      "description": "",
                      "type": "string"
                    }
                  }
                },
                "presentation": {
                  "type": "object",
                  "description": "An indicator's presentation defines how the indicator's metadata will be shown on our website (e.g. in data pages). The indicator presentation metadata fields are the attributes of the `VariablePresentationMeta`object in ETL.",
                  "additionalProperties": false,
                  "properties": {
                    "title_public": {
                      "type": "string",
                      "description": "Indicator title to be shown in public places like data pages, that overrides the indicator's title.",
                      "requirement_level": "optional",
                      "guidelines": [
                        [
                          "Must start with a capital letter."
                        ],
                        [
                          "Must not end with a period."
                        ],
                        [
                          "Must be one short sentence (a few words)."
                        ],
                        [
                          "Should not mention other metadata fields like `producer` or `version`."
                        ],
                        [
                          "Should help OWID and expert users identify the indicator."
                        ],
                        [
                          "For big datasets where constructing human-readable titles is hard (e.g. FAOSTAT), this field is mandatory, to improve the public appearance of the title."
                        ],
                        [
                          "When `display.name` is defined (to edit the default title in the legend of a chart), `title_public` must also be defined (otherwise `display.name` will be used as a public title)."
                        ]
                      ]
                    },
                    "title_variant": {
                      "type": "string",
                      "title": "Indicator's title variant",
                      "description": "Short disambiguation of the title that references a special feature of the methods or nature of the data.",
                      "requirement_level": "optional",
                      "guidelines": [
                        [
                          "Must start with a capital letter."
                        ],
                        [
                          "Must not end in a period."
                        ],
                        [
                          "Should be very short."
                        ],
                        [
                          "Should only be used if the indicator's title is ambiguous (e.g. if there are multiple indicators with the same title)."
                        ],
                        [
                          "Should not reference the data provider. For that, instead, use `attribution_short`."
                        ]
                      ],
                      "examples": [
                        "Age-standardized",
                        "Historical data"
                      ],
                      "examples_bad": [
                        [
                          "The data is age-standardized"
                        ],
                        [
                          "Historical data from 1800 to 2010"
                        ]
                      ]
                    },
                    "attribution": {
                      "type": "string",
                      "title": "Indicator's attribution",
                      "description": "Citation of the indicator's origins, to override the automatic format `producer1 (year1); producer2 (year2)`.",
                      "guidelines": [
                        [
                          "Must start with a capital letter.",
                          {
                            "type": "exceptions",
                            "value": [
                              "The name of the institution or the author must be spelled with small letter, e.g. `van Haasteren`."
                            ]
                          }
                        ],
                        [
                          "Must join multiple attributions by a `;`."
                        ],
                        [
                          "Must not end in a period (and must **not** end in `;`)."
                        ],
                        [
                          "Must contain the year of `date_published`, for each origin, in parenthesis."
                        ],
                        [
                          "Should only be used when the automatic format `producer1 (year1); producer2 (year2)` needs to be overridden."
                        ]
                      ],
                      "requirement_level": "optional",
                      "examples": [
                        "Energy Institute - Statistical Review of World Energy (2023); Ember (2022)"
                      ],
                      "examples_bad": [
                        [
                          "UN (2023), WHO (2023)"
                        ]
                      ]
                    },
                    "attribution_short": {
                      "type": "string",
                      "title": "Indicator's attribution (shorter version)",
                      "description": "Very short citation of the indicator's main producer(s).",
                      "requirement_level": "recommended (for curated indicators)",
                      "guidelines": [
                        [
                          "Must start with a capital letter.",
                          {
                            "type": "exceptions",
                            "value": [
                              "The name of the institution or the author must be spelled with small letter, e.g. `van Haasteren`."
                            ]
                          }
                        ],
                        [
                          "Must not end in a period."
                        ],
                        [
                          "Should be very short."
                        ],
                        [
                          "Should be used if the automatic concatenation of origin's `attribution_short` are too long. In those cases, choose the most important `attribution` (e.g. the main producer of the data)."
                        ]
                      ]
                    },
                    "topic_tags": {
                      "type": "array",
                      "title": "Indicator's topic tags",
                      "description": "List of topics where the indicator is relevant.",
                      "requirement_level": "recommended (for curated indicators)",
                      "guidelines": [
                        [
                          "Must be an existing topic tag, and be spelled correctly (see the list of topic tags in [datasette](http://datasette-private/owid?sql=SELECT+tags.%60name%60+from+tags+where+slug+is+not+null+ORDER+BY+tags.%60name%60%0D%0A) (requires Tailscale)."
                        ],
                        [
                          "The first tag must correspond to the most relevant topic page (since that topic page will be used in citations of this indicator)."
                        ],
                        [
                          "Should contain 1, 2, or at most 3 tags."
                        ]
                      ],
                      "items": {
                        "type": "string",
                        "enum": [
                            "Population Growth",
                            "Fertility Rate",
                            "Age Structure",
                            "Child & Infant Mortality",
                            "Life Expectancy",
                            "Gender Ratio",
                            "Eradication of Diseases",
                            "HIV/AIDS",
                            "Malaria",
                            "Maternal Mortality",
                            "Smoking",
                            "Suicides",
                            "Vaccination",
                            "Cancer",
                            "Financing Healthcare",
                            "Causes of Death",
                            "Burden of Disease",
                            "Cardiovascular Diseases",
                            "Tuberculosis",
                            "Mental Health",
                            "Food Supply",
                            "Hunger & Undernourishment",
                            "Famines",
                            "Human Height",
                            "Employment in Agriculture",
                            "Fertilizers",
                            "Food Prices",
                            "Agricultural Production",
                            "Diet Compositions",
                            "Obesity",
                            "Meat & Dairy Production",
                            "CO2 & Greenhouse Gas Emissions",
                            "Energy",
                            "Nuclear Energy",
                            "Renewable Energy",
                            "Fossil Fuels",
                            "Forests & Deforestation",
                            "Indoor Air Pollution",
                            "Land Use",
                            "Natural Disasters",
                            "Oil Spills",
                            "Climate Change",
                            "Biodiversity",
                            "Water Use & Stress",
                            "Ozone Layer",
                            "Air Pollution",
                            "Waste Management",
                            "Research & Development",
                            "Technological Change",
                            "Space Exploration & Satellites",
                            "Economic Growth",
                            "Economic Inequality",
                            "Economic Inequality by Gender",
                            "Happiness & Life Satisfaction",
                            "Human Development Index (HDI)",
                            "Light at Night",
                            "Working Hours",
                            "Urbanization",
                            "Homelessness",
                            "Child Labor",
                            "Government Spending",
                            "Trade & Globalization",
                            "Tourism",
                            "Migration",
                            "Nuclear Weapons",
                            "Terrorism",
                            "War & Peace",
                            "Democracy",
                            "Homicides",
                            "Women's Rights",
                            "Human Rights",
                            "Violence Against Children & Children's Rights",
                            "LGBT+ Rights",
                            "Animal Welfare",
                            "Education Spending",
                            "Global Education",
                            "Tertiary Education",
                            "Quality of Education",
                            "Literacy",
                            "Pre-Primary Education",
                            "Teachers & Schools",
                            "Books",
                            "Internet",
                            "Trust",
                            "Marriages & Divorces",
                            "Smallpox",
                            "Diarrheal Diseases",
                            "Polio",
                            "Neurodevelopmental Disorders",
                            "Alcohol Consumption",
                            "Pesticides",
                            "Plastic Pollution",
                            "Sanitation",
                            "Transport",
                            "Taxation",
                            "Corruption",
                            "Women's Employment",
                            "Poverty",
                            "Micronutrient Deficiency",
                            "Tetanus",
                            "Access to Energy",
                            "Crop Yields",
                            "COVID-19",
                            "Fish & Overfishing",
                            "Environmental Impacts of Food Production",
                            "Lead Pollution",
                            "Biological & Chemical Weapons",
                            "Artificial Intelligence",
                            "Farm Size",
                            "Influenza",
                            "Rights of Marginalized Ethnic Groups",
                            "Pandemics",
                            "Alzheimer's & Dementia",
                            "Clean Water & Sanitation",
                            "Electricity Mix",
                            "Energy Mix",
                            "Global Health",
                            "Labor Supply & Employment",
                            "Loneliness & Social Connections",
                            "Mpox (monkeypox)",
                            "Outdoor Air Pollution",
                            "Pneumonia",
                            "Primary & Secondary Education",
                            "State Capacity",
                            "Time Use",
                            "Illicit Drug Use",
                            "Military Personnel & Spending",
                            "Clean Water"
                        ]
                      }
                    },
                    "faqs": {
                      "type": "array",
                      "title": "Indicator's FAQs",
                      "description": "List of references to questions in an FAQ google document, relevant to the indicator.",
                      "requirement_level": "recommended (for curated indicators)",
                      "guidelines": [
                        [
                          "Each reference must contain `fragment_id` (question identifier) and `gdoc_id` (document identifier)."
                        ]
                      ],
                      "items": {
                        "type": "object",
                        "properties": {
                          "gdoc_id": {
                            "type": "string",
                            "examples": [
                              "gdoc_id: 16uGVylqtS-Ipc3OCxqapJ3BEVGjWf648wvZpzio1QFE"
                            ]
                          },
                          "fragment_id": {
                            "type": "string",
                            "examples": [
                              "fragment_id: cherries"
                            ]
                          }
                        }
                      }
                    },
                    "grapher_config": {
                      "type": "object",
                      "description": "Our World in Data grapher configuration. Most of the fields can be left empty and will be filled with reasonable default values.\n\nFind more details on its attributes [here](https://files.ourworldindata.org/schemas/grapher-schema.003.json).",
                      "properties": {
                        "$schema": {
                          "type": "string",
                          "description": "Url of the concrete schema version to use to validate this document",
                          "format": "uri",
                          "default": "https://files.ourworldindata.org/schemas/grapher-schema.003.json"
                        },
                        "id": {
                          "type": "integer",
                          "description": "Internal DB id. Useful internally for OWID but not required if just using grapher directly.",
                          "minimum": 0
                        },
                        "map": {
                          "type": "object",
                          "description": "Configuration of the world map chart",
                          "properties": {
                            "projection": {
                              "type": "string",
                              "description": "Slightly misnamed - this does not change the map projection but instead specifies which world area to focus on.",
                              "enum": [
                                "World",
                                "Europe",
                                "Africa",
                                "Asia",
                                "NorthAmerica",
                                "SouthAmerica",
                                "Oceania"
                              ],
                              "default": "World"
                            },
                            "hideTimeline": {
                              "type": "boolean",
                              "default": false,
                              "description": "Whether the timeline should be hidden in the map view and thus the user not be able to change the year"
                            },
                            "colorScale": {
                              "$ref": "#/$defs/colorScale"
                            },
                            "timeTolerance": {
                              "type": "integer",
                              "default": 0,
                              "description": "Tolerance to use. If data points are missing for a time point, a match is accepted if it lies\nwithin the specified time period. The unit is the dominating time unit, usually years but can be days for\ndaily time series.\n",
                              "minimum": 0
                            },
                            "toleranceStrategy": {
                              "type": "string",
                              "description": "Tolerance strategy to use. Options include accepting matches that are \"closest\" to the time point in question\n(going forwards and backwards in time), and accepting matches that lie in the past (\"backwards\") or\nthe future (\"forwards\").\n",
                              "enum": [
                                "closest",
                                "forwards",
                                "backwards"
                              ],
                              "default": "closest"
                            },
                            "tooltipUseCustomLabels": {
                              "type": "boolean",
                              "default": false,
                              "description": "Show the label from colorSchemeLabels in the tooltip instead of the numeric value"
                            },
                            "time": {
                              "description": "Select a specific time to be displayed.",
                              "default": "latest",
                              "oneOf": [
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "string",
                                  "enum": [
                                    "latest"
                                  ]
                                }
                              ]
                            },
                            "variableId": {
                              "type": "integer",
                              "description": "Variable ID to show. TODO: remove this and use dimensions instead",
                              "maximum": 2147483647,
                              "minimum": 0
                            }
                          },
                          "additionalProperties": false
                        },
                        "maxTime": {
                          "description": "End point of the initially selected time span.",
                          "default": "latest",
                          "oneOf": [
                            {
                              "type": "number"
                            },
                            {
                              "type": "string",
                              "enum": [
                                "latest",
                                "earliest"
                              ]
                            }
                          ]
                        },
                        "subtitle": {
                          "type": "string",
                          "description": "Default subtitle to use in charts for the indicator. NOTE: Use this field to override an indicator's `description_short` with information that is more suitable for a chart subtitle.",
                          "guidelines": [
                            [
                              "Must start with a capital letter."
                            ],
                            [
                              "Must end with a period."
                            ],
                            [
                              "Must be one short paragraph, suitable to fit in a chart subtitle."
                            ]
                          ]
                        },
                        "selectedEntityNames": {
                          "type": "array",
                          "description": "List of entities (e.g. harmonized country names) to use by default in charts for the indicator.",
                          "items": {
                            "type": [
                              "string"
                            ]
                          }
                        },
                        "baseColorScheme": {
                          "type": "string",
                          "default": "default",
                          "description": "The default color scheme if no color overrides are specified"
                        },
                        "yAxis": {
                          "$ref": "#/$defs/axis"
                        },
                        "tab": {
                          "type": "string",
                          "description": "The tab that is shown initially",
                          "default": "chart",
                          "enum": [
                            "chart",
                            "map",
                            "table"
                          ]
                        },
                        "matchingEntitiesOnly": {
                          "type": "boolean",
                          "default": false,
                          "description": "Exclude entities that do not belong in any color group"
                        },
                        "hasChartTab": {
                          "type": "boolean",
                          "default": true,
                          "description": "Whether to show the (non-map) chart tab"
                        },
                        "data": {
                          "type": "object",
                          "description": "Obsolete name - used only to store the available entities",
                          "properties": {
                            "availableEntities": {
                              "type": "array",
                              "description": "List of available entities",
                              "items": {
                                "type": "string"
                              }
                            }
                          },
                          "additionalProperties": false
                        },
                        "hideLegend": {
                          "type": "boolean",
                          "description": "Hide legend in chart.",
                          "default": false
                        },
                        "hideLogo": {
                          "type": "boolean",
                          "description": "Hide logo in chart.",
                          "default": false
                        },
                        "timelineMinTime": {
                          "type": "integer",
                          "description": "The lowest year to show in the timeline. If this is set then the user is not able to see\nany data before this year\n"
                        },
                        "variantName": {
                          "type": "string",
                          "description": "Optional internal variant name for distinguishing charts with the same title"
                        },
                        "hideTimeline": {
                          "type": "boolean",
                          "default": false,
                          "description": "Whether to hide the timeline from the user. If it is hidden then the user can't change the time"
                        },
                        "originUrl": {
                          "type": "string",
                          "description": "The page containing this chart where more context can be found"
                        },
                        "colorScale": {
                          "$ref": "#/$defs/colorScale"
                        },
                        "scatterPointLabelStrategy": {
                          "type": "string",
                          "default": "year",
                          "description": "When a user hovers over a connected series line in a ScatterPlot we show\na label for each point. By default that value will be from the \"year\" column\nbut by changing this option the column used for the x or y axis could be used instead.\n",
                          "enum": [
                            "x",
                            "y",
                            "year"
                          ]
                        },
                        "selectedFacetStrategy": {
                          "type": "string",
                          "default": "none",
                          "description": "The desired facetting strategy (none for no facetting)",
                          "enum": [
                            "none",
                            "entity",
                            "metric"
                          ]
                        },
                        "sourceDesc": {
                          "type": "string",
                          "description": "Short comma-separated list of source names"
                        },
                        "isPublished": {
                          "type": "boolean",
                          "default": false,
                          "description": "Indicates if the chart is published on Our World in Data or still in draft"
                        },
                        "invertColorScheme": {
                          "type": "boolean",
                          "default": false,
                          "description": "Reverse the order of colors in the color scheme"
                        },
                        "hideRelativeToggle": {
                          "type": "boolean",
                          "description": "Whether to hide the relative mode UI toggle. Default depends on the chart type"
                        },
                        "comparisonLines": {
                          "description": "List of vertical comparison lines to draw",
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "label": {
                                "type": "string"
                              },
                              "yEquals": {
                                "type": "string"
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "internalNotes": {
                          "description": "Internal notes.",
                          "type": "string"
                        },
                        "version": {
                          "type": "integer",
                          "description": "",
                          "default": 1,
                          "minimum": 0
                        },
                        "logo": {
                          "type": "string",
                          "description": "Which logo to show on the upper right side",
                          "default": "owid",
                          "enum": [
                            "owid",
                            "core+owid",
                            "gv+owid"
                          ]
                        },
                        "entityType": {
                          "type": "string",
                          "default": "country or region",
                          "description": "Display string for naming the primary entities of the data. Default is 'country or region', but you can specify a different one such as 'state' or 'region'"
                        },
                        "facettingLabelByYVariables": {
                          "type": "string",
                          "default": "metric",
                          "description": "Display string that replaces 'metric' in the 'Split by metric' label in facet controls (e.g. 'product' displays 'Split by product')"
                        },
                        "note": {
                          "type": "string",
                          "description": "Default footer note to use in charts for the indicator.",
                          "guidelines": [
                            [
                              "Must start with a capital letter."
                            ],
                            [
                              "Must end with a period."
                            ],
                            [
                              "Must not include 'Note:' at the beginning (this is added automatically)."
                            ],
                            [
                              "Must be one short paragraph, usually one sentence, suitable to fit in a chart footer note."
                            ],
                            [
                              "Should not mention any other metadata fields."
                            ]
                          ]
                        },
                        "dimensions": {
                          "type": "array",
                          "description": "List of dimensions and their mapping to variables",
                          "items": {
                            "type": "object",
                            "required": [
                              "property",
                              "variableId"
                            ],
                            "properties": {
                              "targetYear": {
                                "type": "integer",
                                "description": "Charts that can display more than one primary dimensions (i.e. scatter and marimekko)\nsometimes need to \"hardcode\" one dimension to a specific year. This happens e.g. when\nmixing a daily X variable in a scatter plot with a yearly one, e.g. population.\n"
                              },
                              "property": {
                                "type": "string",
                                "description": "Which dimension this property maps to",
                                "enum": [
                                  "y",
                                  "x",
                                  "size",
                                  "color",
                                  "table"
                                ]
                              },
                              "display": {
                                "$ref": "definitions.json#/display"
                              },
                              "variableId": {
                                "type": "integer",
                                "description": "The variable id to get the values for this time series",
                                "minimum": 0
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "addCountryMode": {
                          "type": "string",
                          "description": "Whether the user can change countries, add additional ones or neither",
                          "default": "add-country",
                          "enum": [
                            "add-country",
                            "change-country",
                            "disabled"
                          ]
                        },
                        "compareEndPointsOnly": {
                          "type": "boolean",
                          "default": false,
                          "description": "Drops in between points in scatter plots"
                        },
                        "selectedEntityColors": {
                          "type": "object",
                          "description": "Colors for selected entities",
                          "patternProperties": {
                            ".*": {
                              "type": "string"
                            }
                          }
                        },
                        "relatedQuestions": {
                          "type": "array",
                          "description": "Links to related questions",
                          "items": {
                            "type": "object",
                            "properties": {
                              "url": {
                                "type": "string"
                              },
                              "text": {
                                "type": "string"
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "title": {
                          "type": "string",
                          "description": "Default title to use in charts for the indicator, overriding the indicator's `title`.",
                          "guidelines": [
                            [
                              "Must start with a capital letter."
                            ],
                            [
                              "Must not end with a period."
                            ],
                            [
                              "Must be one short sentence (a few words)."
                            ],
                            [
                              "Must fit and be an appropriate choice for a chart's public title."
                            ],
                            [
                              "Should not mention other metadata fields like `producer` or `version`."
                            ]
                          ]
                        },
                        "type": {
                          "type": "string",
                          "description": "Which type of chart should be shown (hasMapChart can be used to always also show a map chart)",
                          "default": "LineChart",
                          "enum": [
                            "LineChart",
                            "ScatterPlot",
                            "StackedArea",
                            "DiscreteBar",
                            "StackedDiscreteBar",
                            "SlopeChart",
                            "StackedBar",
                            "WorldMap",
                            "Marimekko"
                          ]
                        },
                        "hasMapTab": {
                          "type": "boolean",
                          "default": false,
                          "description": "Whether the default chart for the indicator should include a map tab."
                        },
                        "stackMode": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "description": "Stack mode. Only absolute and relative are actively used.",
                          "enum": [
                            "absolute",
                            "relative",
                            "grouped",
                            "stacked",
                            null
                          ]
                        },
                        "minTime": {
                          "description": "Start point of the initially selected time span.",
                          "default": "earliest",
                          "oneOf": [
                            {
                              "type": "number"
                            },
                            {
                              "type": "string",
                              "enum": [
                                "latest",
                                "earliest"
                              ]
                            }
                          ]
                        },
                        "hideAnnotationFieldsInTitle": {
                          "type": "object",
                          "description": "Whether to hide any automatically added title annotations like the selected year",
                          "properties": {
                            "entity": {
                              "type": "boolean",
                              "description": "Whether to hide the entity annotation",
                              "default": false
                            },
                            "time": {
                              "type": "boolean",
                              "description": "Whether to hide the time annotation",
                              "default": false
                            },
                            "changeInPrefix": {
                              "type": "boolean",
                              "description": "Whether to hide \"Change in\" in relative line charts",
                              "default": false
                            }
                          }
                        },
                        "excludedEntities": {
                          "type": "array",
                          "description": "Entities that should be excluded from the chart",
                          "items": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "xAxis": {
                          "$ref": "#/$defs/axis"
                        },
                        "timelineMaxTime": {
                          "type": "integer",
                          "description": "The highest year to show in the timeline. If this is set then the user is not able to see\nany data after this year\n"
                        },
                        "hideConnectedScatterLines": {
                          "type": "boolean",
                          "default": false,
                          "description": "Whether to hide connecting lines on scatter plots when a time range is selected"
                        },
                        "showNoDataArea": {
                          "type": "boolean",
                          "default": true,
                          "description": "Whether to show an area for entities that have no data (currently only used in marimekko charts)"
                        },
                        "zoomToSelection": {
                          "type": "boolean",
                          "default": false,
                          "description": "Whether to zoom to the selected data points"
                        },
                        "showYearLabels": {
                          "type": "boolean",
                          "default": false,
                          "description": "Whether to show year labels in bar charts"
                        },
                        "hideLinesOutsideTolerance": {
                          "type": "boolean",
                          "default": false,
                          "description": "Hide entities without data for full time span (within tolerance)"
                        },
                        "hideTotalValueLabel": {
                          "type": "boolean",
                          "default": false,
                          "description": "Whether to hide the total value label (used on stacked discrete bar charts)"
                        },
                        "hideScatterLabels": {
                          "type": "boolean",
                          "default": false,
                          "description": "Hide entity names in Scatter plots"
                        },
                        "sortBy": {
                          "type": "string",
                          "description": "Sort criterium (used by stacked bar charts and marimekko)",
                          "default": "total",
                          "enum": [
                            "column",
                            "total",
                            "entityName",
                            "custom"
                          ]
                        },
                        "sortOrder": {
                          "type": "string",
                          "description": "Sort order (used by stacked bar charts and marimekko)",
                          "default": "desc",
                          "enum": [
                            "desc",
                            "asc"
                          ]
                        },
                        "sortColumnSlug": {
                          "description": "Sort column if sortBy is column (used by stacked bar charts and marimekko)",
                          "type": "string"
                        },
                        "hideFacetControl": {
                          "type": "boolean",
                          "default": true,
                          "description": "Whether to hide the faceting control"
                        },
                        "includedEntities": {
                          "type": "array",
                          "description": "Entities to include. Opposite of excludedEntities. If this is set then all entities not specified here are excluded.",
                          "items": {
                            "type": "number"
                          }
                        },
                        "entityTypePlural": {
                          "description": "Plural of the entity type (i.e. when entityType is 'country' this would be 'countries')",
                          "default": "countries",
                          "type": "string"
                        },
                        "missingDataStrategy": {
                          "type": "string",
                          "default": "auto",
                          "description": "The desired strategy for handling entities with missing data",
                          "enum": [
                            "auto",
                            "hide",
                            "show"
                          ]
                        }
                      },
                      "additionalProperties": false
                    }
                  }
                },
                "sort": {
                  "title": "Ordered categorical values for ordinal type",
                  "description": "",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "type": {
                  "title": "Indicator type",
                  "description": "Indicator type is usually automatically inferred from the data, but must be manually set for ordinal and categorical types.",
                  "type": "string",
                  "enum": ["float", "int", "mixed", "string", "ordinal", "categorical"]
                }
              }
            }
          }
        }
      }
    },
    "all_sources": {}
  }
}
